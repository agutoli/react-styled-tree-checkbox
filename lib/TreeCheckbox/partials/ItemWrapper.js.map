{"version":3,"sources":["../../../src/TreeCheckbox/partials/ItemWrapper.js"],"names":["MIN_HEIGHT","createKeyFrames","height","styled","div","props","collapsed","ItemWrapper","state","ElementWrapper","enableKeyFrame","childrenClientHeight","callRef","_callRef","bind","child","domNode","ReactDOM","findDOMNode","rect","getBoundingClientRect","Element","React","Children","map","children","element","idx","cloneElement","ref","setTimeout","setState","PureComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,MAAMA,aAAa,EAAnB;;AAEA,WAASC,eAAT,CAAyBC,MAAzB,EAAiC;AAC/B,WAAOC,2BAAOC,GAAd,kBAGYJ,UAHZ,EAKI;AAAA,aAASK,MAAMC,SAAN,yBACCN,UADD,cAAT;AAAA,KALJ,EASI;AAAA,aAAS,CAACK,MAAMC,SAAP,yBACCJ,MADD,cAAT;AAAA,KATJ;AAaD;;MAEKK,W;;;AACJ,yBAAYF,KAAZ,EAAmB;AAAA;;AAAA,4HACXA,KADW;;AAGjB,YAAKG,KAAL,GAAa;AACXC,wBAAgBR,gBAAgBD,UAAhB,CADL;AAEXU,wBAAgB;AAFL,OAAb;;AAKA,YAAKC,oBAAL,GAA4BX,UAA5B;AACA,YAAKY,OAAL,GAAe,MAAKC,QAAL,CAAcC,IAAd,OAAf;AATiB;AAUlB;;;;+BAEQC,K,EAAO;AACd,YAAIA,KAAJ,EAAW;AACT,cAAMC,UAAUC,mBAASC,WAAT,CAAqBH,KAArB,CAAhB;AACA,cAAIC,OAAJ,EAAa;AACX,gBAAMG,OAAOH,QAAQI,qBAAR,EAAb;AACA,iBAAKT,oBAAL,GAA4B,KAAKA,oBAAL,GAA4BQ,KAAKjB,MAA7D;AACD;AACF;AACF;;;+BAEQ;AAAA;;AAAA,YACCO,cADD,GACoB,KAAKD,KADzB,CACCC,cADD;;AAEP,YAAMY,UAAUZ,iBAAiBA,cAAjB,GAAmCN,2BAAOC,GAA1C,kBAAhB;AACA,eACE;AAAC,iBAAD;AAAa,eAAKC,KAAlB;AACGiB,0BAAMC,QAAN,CAAeC,GAAf,CAAmB,KAAKnB,KAAL,CAAWoB,QAA9B,EAAwC,UAACC,OAAD,EAAUC,GAAV,EAAkB;AACzD,mBAAOL,gBAAMM,YAAN,CAAmBF,OAAnB,EAA4B,EAAEG,KAAK,OAAKjB,OAAZ,EAA5B,CAAP;AACD,WAFA;AADH,SADF;AAOD;;;wCAEiBP,K,EAAOG,K,EAAO;AAAA;;AAC9BsB,mBAAW,YAAM;AACf,iBAAKC,QAAL,CAAc;AACZtB,4BAAgBR,gBAAgB,OAAKU,oBAArB;AADJ,WAAd;AAGD,SAJD,EAIG,GAJH;AAKD;;;;IAzCuBW,gBAAMU,a;;oBA2CjBzB,W","file":"ItemWrapper.js","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport styled, { keyframes } from 'styled-components'\n\nconst MIN_HEIGHT = 25\n\nfunction createKeyFrames(height) {\n  return styled.div`\n    overflow: hidden;\n    transition: height 0.2s ease-out;\n    height: ${MIN_HEIGHT}px;\n\n    ${props => props.collapsed && `\n      height: ${MIN_HEIGHT}px;\n    `}\n\n    ${props => !props.collapsed && `\n      height: ${height}px;\n    `}\n  `\n}\n\nclass ItemWrapper extends React.PureComponent {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      ElementWrapper: createKeyFrames(MIN_HEIGHT),\n      enableKeyFrame: false\n    }\n\n    this.childrenClientHeight = MIN_HEIGHT;\n    this.callRef = this._callRef.bind(this)\n  }\n\n  _callRef(child) {\n    if (child) {\n      const domNode = ReactDOM.findDOMNode(child)\n      if (domNode) {\n        const rect = domNode.getBoundingClientRect()\n        this.childrenClientHeight = this.childrenClientHeight + rect.height\n      }\n    }\n  }\n\n  render() {\n    const { ElementWrapper } = this.state\n    const Element = ElementWrapper ? ElementWrapper :  styled.div``\n    return (\n      <Element {...this.props}>\n        {React.Children.map(this.props.children, (element, idx) => {\n          return React.cloneElement(element, { ref: this.callRef });\n        })}\n      </Element>\n    )\n  }\n\n  componentDidMount(props, state) {\n    setTimeout(() => {\n      this.setState({\n        ElementWrapper: createKeyFrames(this.childrenClientHeight)\n      })\n    }, 100)\n  }\n}\nexport default ItemWrapper\n"]}